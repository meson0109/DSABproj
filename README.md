# Intelligent Scissors 图像分割工具 - 使用说明
**developed by mesonLu and LiuHaoheng @SUSTech**

## 项目概述

本项目实现了基于"Intelligent Scissors"算法的交互式图像分割工具，允许用户通过简单的鼠标操作快速准确地提取图像中的对象轮廓。

## 功能特性

### 核心功能
- **实时路径追踪**：算法自动计算并显示从种子点到鼠标位置的最优边界路径
- **智能边缘吸附**：路径自动贴合图像中的显著边缘
- **多段路径记录**：支持分段绘制复杂轮廓

### 交互操作
| 操作                | 功能描述                                                                 |
|---------------------|--------------------------------------------------------------------------|
| **左键单击**        | 设置新的路径起点或添加路径点                                             |
| **左键双击**        | 计算当前鼠标位置到第一个种子点的完整路径，弹出保存/复制选项              |
| **右键单击**        | 删除最近添加的路径点                                                     |
| **右键双击**        | 清除所有路径点和当前追踪状态                                             |
| **鼠标移动**        | 实时显示从最后种子点到鼠标位置的最优路径                                 |

## 使用指南

1. **加载图像**
   - 启动程序后点击"选择图片"按钮
   - 从文件系统中选择要处理的图像

2. **开始路径追踪**
   - 在目标对象边缘点击左键设置第一个种子点
   - 移动鼠标查看实时计算的路径
   - 继续点击左键添加关键点优化路径

3. **路径调整**
   - 使用右键单击撤销错误的关键点
   - 通过密集设置关键点处理复杂边缘

4. **完成并输出**
   - 双击左键完成路径闭合
   - 在弹出的对话框中选择：
     - **复制到剪贴板**：将抠图结果复制到系统剪贴板
     - **保存为文件**：将结果保存为PNG格式图像

## 技术实现

### 核心算法
- **图像梯度计算**：使用Sobel算子检测边缘
- **代价图构建**：`f_G = (G_max - G)/G_max`
- **最短路径搜索**：Dijkstra算法实现8邻域路径查找

### 优化特性
- **Path Cooling**：自动在稳定路径段添加关键点
- **Cursor Snap**：光标自动吸附到显著边缘特征
- **动态路径更新**：实时响应鼠标移动

## 项目结构

```
IntelligentScissors/
├── src/
│   ├── Main.java                 # 程序入口和GUI主框架
│   ├── DijkstraAlgorithm.java    # 最短路径算法实现
│   ├── GrayConverter.java        # 图像灰度转换
│   ├── SobelConverter.java       # Sobel边缘检测
│   └── StuffAlgorithm.java       # 图像处理操作工具
├── img1.png                      # 示例文件
├── img2.png
└── README.md                     # 本说明文件
```

## 运行要求

- Java 8或更高版本
- 支持JDK标准图像IO库
- 推荐屏幕分辨率：1920×1080或更高

## 注意事项

1. 对于复杂图像，建议密集设置关键点以获得更好效果
2. 保存功能默认使用PNG格式保留透明度


